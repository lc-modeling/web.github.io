<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="base.css">
</head>
<body>
    <section id="blogs" class="blog-preview-section">
        <h1 style="color: rgb(130, 197, 255); font-family: 'Outfit', sans-serif; font-optical-sizing: auto; font-weight: 700; font-style: normal;">
            DIVERSITY & INCLUSIVITY
        </h1>
        <br>
        <button class="arrow left" onclick="scrollLeft()">&#10094;</button>
        <div class="blog-preview-container" id="blogPreviewContainer"></div>
        <button class="arrow right" onclick="scrollRight()">&#10095;</button>
    
        <div class="pagination-dots" id="paginationDots"></div>
    </section>
    <section class="about-us">
        <p class="oxygen-light" style="font-family: 'Outfit', sans-serif;">
            We don't have restrictions towards your body type. We are committed and devoted to helping you grow your talent in modeling to a top professional level. Enroll with L&C modeling school today!
        </p>
    </section>
    
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-firestore.js"></script>
    
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAxauEEtqkuJOWA9HRe1jpT_wCXH62nksM",
            authDomain: "schoolcms-77713.firebaseapp.com",
            projectId: "schoolcms-77713",
            storageBucket: "schoolcms-77713.appspot.com",
            messagingSenderId: "757700374571",
            appId: "1:757700374571:web:a86b334d619cf160fa7a6e"
        };
      
        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore(app);
        const container = document.getElementById('blogPreviewContainer');
        const paginationDotsContainer = document.getElementById('paginationDots');
        let scrollAmount = 0;

        // Fetch data from Firestore
        async function fetchBlogPreviews() {
            const querySnapshot = await db.collection('diversity_and_inclusivity').get();
            querySnapshot.forEach((doc) => {
                const data = doc.data();
                const blogCard = document.createElement('div');
                blogCard.classList.add('blog-preview-card');
                
                const imageContainer = document.createElement('div');
                imageContainer.classList.add('image');
                
                const img = document.createElement('img');
                img.src = data.header_image;
                img.alt = `Modeling Image ${data.name}`;
                
                imageContainer.appendChild(img);
                blogCard.appendChild(imageContainer);
                container.appendChild(blogCard);
            });

            createPaginationDots();
        }

        function createPaginationDots() {
            const numberOfDots = Math.ceil(container.children.length / 3);
            for (let i = 0; i < numberOfDots; i++) {
                const dot = document.createElement('div');
                dot.classList.add('pagination-dot');
                dot.addEventListener('click', () => goToPage(i));
                paginationDotsContainer.appendChild(dot);
            }
            updatePaginationDots();
        }

        function updatePaginationDots() {
            const dots = paginationDotsContainer.children;
            const activeIndex = Math.round(scrollAmount / container.clientWidth);
            for (let i = 0; i < dots.length; i++) {
                dots[i].classList.toggle('active', i === activeIndex);
            }
        }

        function goToPage(pageIndex) {
            const width = container.clientWidth;
            scrollAmount = width * pageIndex;
            container.style.transform = `translateX(-${scrollAmount}px)`;
            updatePaginationDots();
        }

        function scrollLeft() {
            const width = container.clientWidth;
            scrollAmount -= width;
            if (scrollAmount < 0) {
                scrollAmount = 0;
            }
            container.style.transform = `translateX(-${scrollAmount}px)`;
            updatePaginationDots();
        }

        function scrollRight() {
            const width = container.clientWidth;
            const maxScroll = container.scrollWidth - width;
            scrollAmount += width;
            if (scrollAmount > maxScroll) {
                scrollAmount = maxScroll;
            }
            container.style.transform = `translateX(-${scrollAmount}px)`;
            updatePaginationDots();
        }

        // Call the fetch function on load
        fetchBlogPreviews();
    </script>
</body>
</html>
