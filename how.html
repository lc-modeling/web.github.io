<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="base.css">
</head>
<body>
    <!-- Form 1: Contact Form -->
<form id="contact-form" class="contact-form" onsubmit="sendEmail(event, 'contact-form')">
    <div class="form-group">
      <label for="fullname">Full Name</label>
      <input type="text" id="fullname" name="fullname" required>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" name="email" required>
    </div>
    <div class="form-group">
      <label for="phonenumber">Phone Number</label>
      <input type="text" id="phonenumber" name="phonenumber" required>
    </div>
    <div class="form-group">
      <label for="message">Message</label>
      <textarea id="message" class="text" name="message" required></textarea>
    </div>
    <button type="submit" class="btn-submit">Send</button>
  </form>
  
  <!-- Form 2: Scouted Form -->
  <form id="scouted-form" class="custom-form" onsubmit="sendEmail(event, 'scouted-form')">
    <label for="full_name">Full Name:</label>
    <input type="text" id="full_name" name="full_name" required>
    
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    
    <label for="telephone">Telephone:</label>
    <input type="tel" id="telephone" name="telephone" required>
    
    <label for="nationality">Nationality:</label>
    <select id="nationality" name="nationality" required></select>
    
    <label for="county">County/Province:</label>
    <select id="county" name="county" required></select>
    
    <label for="age">Age:</label>
    <input type="number" id="age" name="age" required>
    
    <label for="gender">Gender:</label>
    <select id="gender" name="gender" required>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Other">Other</option>
    </select>
  
    <label for="photo">Upload a Photo of Yourself</label>
    <input type="file" id="photo" name="photo" accept="image/*">
  
    <label for="about">Tell Us About Yourself:</label>
    <textarea id="about" name="about" required></textarea>
    
    <button type="submit">Submit Your Application</button>
  </form>
  
  <!-- Form 3: Online Classes Form -->
  <form id="online-classes-form" class="custom-form" onsubmit="sendEmail(event, 'online-classes-form')">
    <label for="full_name">Full Name:</label>
    <input type="text" id="full_name" name="full_name" required>
  
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
  
    <label for="telephone">Telephone:</label>
    <input type="tel" id="telephone" name="telephone" required>
  
    <label for="nationality">Nationality:</label>
    <select id="online_nationality" name="nationality" required></select>
  
    <label for="county">County/Province:</label>
    <select id="online_county" name="county" required></select>
  
    <label for="preferred_course">Preferred Course:</label>
    <select id="preferred_course" name="preferred_course" required>
      <option value="Introduction to Modeling">Introduction to Modeling</option>
      <option value="Advanced Runway Techniques">Advanced Runway Techniques</option>
      <option value="Commercial Modeling">Commercial Modeling</option>
      <option value="Portfolio Development">Portfolio Development</option>
    </select>
  
    <label for="start_date">Preferred Start Date:</label>
    <input type="date" id="start_date" name="start_date" required>
  
    <button type="submit">Submit</button>
  </form>
  
  <!-- Form 4: Booking Form -->
  <form id="booking-form" class="custom-form" onsubmit="sendEmail(event, 'booking-form')">
    <label for="full_name">Full Name:</label>
    <input type="text" id="full_name" name="full_name" required>
    
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    
    <label for="telephone">Telephone:</label>
    <input type="tel" id="telephone" name="telephone" required>
    
    <label for="project_details">Project Details:</label>
    <textarea id="project_details" name="project_details" required></textarea>
    
    <button type="submit">Book a Model</button>
  </form>
  
  <!-- Form 5: Registration Form -->
  <form id="registration-form" class="registration-form" onsubmit="sendEmail(event, 'registration-form')">
    <div class="form-group">
      <label for="full-name">Full Name:</label>
      <input type="text" id="full-name" name="full-name" required>
    </div>
    <div class="form-group">
      <label for="email">Email Address:</label>
      <input type="email" id="email" name="email" required>
    </div>
    <div class="form-group">
      <label for="telephone">Telephone No:</label>
      <input type="tel" id="telephone" name="telephone" required>
    </div>
    <div class="form-group">
      <label for="nationality">Nationality:</label>
      <select id="nationality" name="nationality" required></select>
    </div>
    <div class="form-group">
      <label for="county">County of Residence:</label>
      <select id="county" name="county" required></select>
    </div>
    <div class="form-group">
      <label for="age">Age:</label>
      <input type="number" id="age" name="age" required>
    </div>
    <div class="form-group">
      <label for="gender">Gender:</label>
      <select id="gender" name="gender" required>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>
    </div>
    <div class="form-group">
      <label for="id-number">ID/Passport Number:</label>
      <input type="text" id="id-number" name="id-number" required>
    </div>
    <div class="form-group">
      <label for="course">Course Application:</label>
      <select id="course" name="course" required>
        <option value="How to Build Your Portfolio">How to Build Your Portfolio</option>
        <option value="Beauty Pageantry">Beauty Pageantry</option>
        <option value="Public Speaking/Modeling Etiquette">Public Speaking/Modeling Etiquette</option>
        <option value="High Fashion Modeling Classes">High Fashion Modeling Classes</option>
        <option value="home coaching">home coaching</option>
      </select>
    </div>
    <div class="form-group">
      <label for="start-date">State your Starting Date and Month:</label>
      <input type="date" id="start-date" name="start-date" required>
    </div>
    <br>
    <button type="submit" class="btn-submit">Submit</button>
  </form>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script type="text/javascript">
      (function(){
          emailjs.init({
              publicKey: "4FWgmfHCRbCX00_Nu",
          });
      })();
  </script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          emailjs.init("4FWgmfHCRbCX00_Nu");

          const forms = document.querySelectorAll("form");

          forms.forEach(form => {
              form.addEventListener("submit", async function(event) {
                  event.preventDefault();
                  
                  // Prevent duplicate submission
                  if (form.classList.contains('is-submitting')) return;
                  form.classList.add('is-submitting');

                  const formData = new FormData(form);
                  const formDetails = {};
                  let content = "";

                  for (let [key, value] of formData.entries()) {
                      if (value instanceof File) {
                          try {
                              const base64Image = await handleImageUpload(value);
                              const imageUrl = await uploadImageToCloud(base64Image);
                              content += `[${key.replace(/_/g, ' ')}]: ${imageUrl}\n`;
                          } catch (error) {
                              console.log("Image upload failed", error);
                          }
                      } else {
                          content += `[${key.replace(/_/g, ' ')}]: ${value}\n`;
                      }
                  }

                  formDetails["message"] = content;
                  formDetails["to_name"] = "Recipient"; // Customize recipient name if needed

                  emailjs.send("service_0blnmok", "template_a8hwyud", formDetails)
                      .then(response => {
                          alert("Message sent successfully!");
                          form.reset(); // Clear the form
                          form.classList.remove('is-submitting'); // Enable form submission again
                      })
                      .catch(error => {
                          alert("An error occurred while sending the message.");
                          console.log("FAILED...", error);
                          form.classList.remove('is-submitting');
                      });
              });
          });
      });

      // Function to handle image upload and convert to Base64
      function handleImageUpload(file) {
          return new Promise((resolve, reject) => {
              const reader = new FileReader();
              reader.onloadend = function() {
                  resolve(reader.result);
              };
              reader.onerror = function() {
                  reject("Failed to read file");
              };
              reader.readAsDataURL(file);
          });
      }

      // Function to upload the image to cloud storage and get a URL
      async function uploadImageToCloud(imageBase64) {
          // Replace this with your own API call to cloud storage
          // Example API call
          const response = await fetch('YOUR_CLOUD_STORAGE_API_ENDPOINT', {
              method: 'POST',
              body: JSON.stringify({ image: imageBase64 }),
              headers: {
                  'Content-Type': 'application/json',
              }
          });

          if (response.ok) {
              const data = await response.json();
              return data.imageUrl; // Assuming the API returns the URL
          } else {
              throw new Error("Image upload failed");
          }
      }
  </script>

</script>

<script>
        document.addEventListener('DOMContentLoaded', function() {
            const scoutedForm = document.getElementById('scouted-form');
            const nationalitySelect = document.getElementById('nationality');
            const countySelect = document.getElementById('county');
    
            function fetchCountries() {
                fetch('https://raw.githubusercontent.com/dr5hn/countries-states-cities-database/master/countries.json')
                    .then(response => response.json())
                    .then(data => {
                        data.forEach(country => {
                            const option = document.createElement('option');
                            option.value = country.name;
                            option.textContent = country.name;
                            nationalitySelect.appendChild(option);
                        });
                    });
            }
    
            function fetchStates(country, targetSelect) {
                fetch('https://raw.githubusercontent.com/dr5hn/countries-states-cities-database/master/states.json')
                    .then(response => response.json())
                    .then(data => {
                        targetSelect.innerHTML = '';
                        data.forEach(state => {
                            if (state.country_name === country) {
                                const option = document.createElement('option');
                                option.value = state.name;
                                option.textContent = state.name;
                                targetSelect.appendChild(option);
                            }
                        });
                    });
            }
    
            nationalitySelect.addEventListener('change', function() {
                fetchStates(this.value, countySelect);
            });
    
            fetchCountries();
    
            scoutedForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent the default form submission
                scoutedForm.target = 'hidden_iframe'; // Set the target to the hidden iframe
                scoutedForm.submit(); // Submit the form
    
                // Show success message and clear the form
                alert('Form submitted successfully!');
                scoutedForm.reset();
            });
        });
    
        // Additional code for handling the hamburger menu and other functionality remains the same
        window.onload = function () {
            window.addEventListener('scroll', function (e) {
                if (window.pageYOffset > 100) {
                    document.querySelector("header").classList.add('is-scrolling');
                } else {
                    document.querySelector("header").classList.remove('is-scrolling');
                }
            });
    
            const menu_btn = document.querySelector('.hamburger');
            const mobile_menu = document.querySelector('.mobile-nav');
    
            menu_btn.addEventListener('click', function () {
                menu_btn.classList.toggle('is-active');
                mobile_menu.classList.toggle('is-active');
            });
        }
    
        const header = document.querySelector('header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('is-scrolling');
            } else {
                header.classList.remove('is-scrolling');
            }
        });
    
        document.querySelector('.hamburger').addEventListener('click', function () {
            this.classList.toggle('is-active');
        });
    
        const container = document.getElementById('blogPreviewContainer');
        const paginationDotsContainer = document.getElementById('paginationDots');
        let scrollAmount = 0;
        let startX;
        let scrollLeftPos;
    
        function createPaginationDots() {
            const numberOfDots = Math.ceil(container.children.length / 3);
            for (let i = 0; i < numberOfDots; i++) {
                const dot = document.createElement('div');
                dot.classList.add('pagination-dot');
                dot.addEventListener('click', () => goToPage(i));
                paginationDotsContainer.appendChild(dot);
            }
            updatePaginationDots();
        }
    
        function updatePaginationDots() {
            const dots = paginationDotsContainer.children;
            const activeIndex = Math.round(scrollAmount / container.clientWidth);
            for (let i = 0; i < dots.length; i++) {
                dots[i].classList.toggle('active', i === activeIndex);
            }
        }
    
        function goToPage(pageIndex) {
            const width = container.clientWidth;
            scrollAmount = width * pageIndex;
            container.style.transform = `translateX(-${scrollAmount}px)`;
            updatePaginationDots();
        }
    
        function scrollLeft() {
            const width = container.clientWidth;
            scrollAmount = Math.max(scrollAmount - width, 0);
            container.style.transform = `translateX(-${scrollAmount}px)`;
            updatePaginationDots();
        }
    
        function scrollRight() {
            const width = container.clientWidth;
            const maxScroll = container.scrollWidth - width;
            scrollAmount = Math.min(scrollAmount + width, maxScroll);
            container.style.transform = `translateX(-${scrollAmount}px)`;
            updatePaginationDots();
        }
    
        container.addEventListener('touchstart', (e) => {
            startX = e.touches[0].pageX;
            scrollLeftPos = scrollAmount;
        });
    
        container.addEventListener('touchmove', (e) => {
            const x = e.touches[0].pageX;
            const walk = startX - x;
            const width = container.clientWidth;
            const maxScroll = container.scrollWidth - width;
            scrollAmount = Math.max(0, Math.min(maxScroll, scrollLeftPos + walk));
            container.style.transform = `translateX(-${scrollAmount}px)`;
            updatePaginationDots();
        });
    
        createPaginationDots();
    </script>
</body>
</html>